import{j as e,a as C,u as p,r as g,B as i,l as v,d as N,b as f}from"./index-B6NVH1GQ.js";function w(t){return e.jsx("textarea",{className:t.textStyle,value:t.textValue,cols:t.cols,rows:t.rows,onChange:t.textChange,placeholder:t.textHolder})}function T(t){return e.jsxs("div",{className:t.commentStyle,children:[e.jsx("p",{children:t.commentDate}),e.jsx("br",{}),e.jsx("p",{children:t.commentText})]})}function P(t){const{likeIcon:D,dislikeIcon:S}=C(),[s,c,I]=p(),[m,d]=g.useState("");console.log(s.comments);let x=s!==null?s.likes:0,u=s!==null?s.dislikes:0,r=s!==null?s.comments:[];const h=async o=>{try{const n=await v(o);c(l=>({...l,likes:n.likes}))}catch(n){console.log(n)}},j=async o=>{try{const n=await N(o);c(l=>({...l,dislikes:n.dislikes}))}catch(n){console.log(n)}},b=async({id:o,comment:n})=>{const l=o,k=n;try{const a=await f({productDataID:l,productComment:k});c(y=>({...y,comments:a.comments})),d("")}catch(a){console.log(a)}};return e.jsx("div",{className:"text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"inline-block",children:e.jsx(i,{btnInnerText:`Like ${x}`,btnStyle:"py-2 px-6 bg-orange-500 rounded-md cursor-pointer",handleClick:()=>h(s._id)})}),e.jsx("div",{className:"inline-block ml-2",children:e.jsx(i,{btnInnerText:`Dislike ${u}`,btnStyle:"border-2 py-2 px-6 rounded-md cursor-pointer",handleClick:()=>j(s._id)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"underline mt-3",children:"Comments"}),e.jsx(w,{textStyle:"border-b-2 resize-none outline-none w-full pt-5 mt-2",textHolder:"Add Comment...",textValue:m,textChange:o=>d(o.target.value),rows:"1"}),e.jsx("div",{className:"flex",children:e.jsx(i,{btnInnerText:"submit",handleClick:()=>b({id:s._id,comment:m}),btnStyle:"ml-auto bg-orange-500 text-black hover:text-white px-2 py-1 rounded-md cursor-pointer"})}),e.jsx("div",{className:"mt-5 mb-5",children:typeof r=="object"?r.length>0?r.map((o,n)=>e.jsx(T,{commentStyle:"border-1 mt-3 rounded-lg px-1 box-border",commentDate:o.commentDate,commentText:o.commentText},`comments${n}`)):e.jsx("p",{children:"No Comments"}):e.jsx("p",{children:"No Comments"})})]})]})})}export{P as default};
